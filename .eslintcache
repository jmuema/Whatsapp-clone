[{"/Users/muema/Documents/whatsapp-clone/src/index.js":"1","/Users/muema/Documents/whatsapp-clone/src/App.js":"2","/Users/muema/Documents/whatsapp-clone/src/reportWebVitals.js":"3","/Users/muema/Documents/whatsapp-clone/src/Sidebar.js":"4","/Users/muema/Documents/whatsapp-clone/src/SidebarChat.js":"5","/Users/muema/Documents/whatsapp-clone/src/Chat.js":"6","/Users/muema/Documents/whatsapp-clone/src/firebase.js":"7","/Users/muema/Documents/whatsapp-clone/src/Login.js":"8","/Users/muema/Documents/whatsapp-clone/src/reducer.js":"9","/Users/muema/Documents/whatsapp-clone/src/StateProvider.js":"10"},{"size":689,"mtime":1607333025650,"results":"11","hashOfConfig":"12"},{"size":827,"mtime":1607333076503,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1606115586737,"results":"14","hashOfConfig":"12"},{"size":1795,"mtime":1607320010032,"results":"15","hashOfConfig":"12"},{"size":1482,"mtime":1607540345511,"results":"16","hashOfConfig":"12"},{"size":3668,"mtime":1607539336358,"results":"17","hashOfConfig":"12"},{"size":704,"mtime":1607320468814,"results":"18","hashOfConfig":"12"},{"size":1132,"mtime":1607332968564,"results":"19","hashOfConfig":"12"},{"size":414,"mtime":1607330339157,"results":"20","hashOfConfig":"12"},{"size":371,"mtime":1607331965256,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1btpzdj",{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},"/Users/muema/Documents/whatsapp-clone/src/index.js",[],["48","49"],"/Users/muema/Documents/whatsapp-clone/src/App.js",["50"],"import React from \"react\";\nimport './App.css';\nimport Sidebar from \"./Sidebar\";\nimport Chat from './Chat';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Login from \"./Login\";\nimport { useStateValue } from \"./StateProvider\";\n\nfunction App() {\n  const [{user}, dispatch ] = useStateValue();\n\n  return (\n    <div className=\"app\">\n      {!user ? (\n        <Login />\n      ) : (\n          <div className=\"app__body\">\n            <Router>\n              < Sidebar />\n              <Switch>\n                <Route path=\"/rooms/:roomId\">\n                  <Chat />\n                </Route>\n                <Route path=\"/\" >\n                  <Chat />\n                </Route>\n              </Switch>\n            </Router>\n\n          </div>\n\n        )}\n\n\n    </div>\n  );\n}\n\nexport default App;\n","/Users/muema/Documents/whatsapp-clone/src/reportWebVitals.js",[],["51","52"],"/Users/muema/Documents/whatsapp-clone/src/Sidebar.js",[],"/Users/muema/Documents/whatsapp-clone/src/SidebarChat.js",[],"/Users/muema/Documents/whatsapp-clone/src/Chat.js",["53"],"import { Avatar, IconButton } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport \"./Chat.css\";\nimport InsertEmoticonIcon from \"@material-ui/icons/InsertEmoticon\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport SearchOutlined from '@material-ui/icons/SearchOutlined';\nimport AttachFile from '@material-ui/icons/AttachFile';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport { useParams } from 'react-router-dom';\nimport db from \"./firebase\";\nimport firebase from \"firebase\";\nimport { useStateValue } from \"./StateProvider\";\n\n\n// import { Message } from '@material-ui/icons';\n\n\n\n\nfunction Chat() {\n    const [input, setInput] = useState(\"\");\n    const [seed, setSeed] = useState(\"\");\n    const { roomId } = useParams();\n    const [roomName, setRoomName] = useState(\"\");\n    const [messages, setMessages] = useState([]);\n    const [{user}, dispatch] = useStateValue();\n\n    useEffect(() => {\n        if (roomId) {\n            db.collection(\"rooms\")\n            .doc(roomId)\n            .onSnapshot((snapshot) => setRoomName\n            (snapshot.data().name));\n\n            db.collection(\"rooms\")\n            .doc(roomId)\n            .collection(\"messages\")\n            .orderBy(\"timestamp\", \"asc\")\n            .onSnapshot((snapshot) => \n              setMessages(snapshot.docs.map((doc) => \n              doc.data()))\n            );\n\n        }\n\n    }, [roomId]);\n\n    useEffect(() => {\n        setSeed(Math.floor(Math.random() * 5000));\n    }, []);\n\n    const sendMessage = (e) => {\n        e.preventDefault();\n        console.log('you typed >>>', input);\n\n        db.collection('rooms').doc(roomId).collection('messages').add({\n            message: input,\n            name: user.displayName,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        })\n\n        setInput(\"\");\n\n    };\n\n    return (\n        <div className=\"chat\" >\n            <div className=\"chat__header\">\n                <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\n                <div className=\"chat__headerInfo\">\n                    <h3>{roomName}</h3>\n                    <p> Last seen {\" \"}\n                    {new Date(messages[messages.length - 1]?.timestamp?.toDate()).toUTCString()}\n                    </p>\n                </div>\n                <div className=\"chat__headerRight\">\n                    <IconButton>\n                        <SearchOutlined />\n                    </IconButton>\n                    <IconButton>\n                        <AttachFile />\n\n                    </IconButton>\n                    <IconButton>\n                        <MoreVert />\n\n                    </IconButton>\n\n                </div>\n            </div>\n            <div className=\"chat__body\">\n                {messages.map((message) => (\n                      <p className={`chat__message ${ message.name === user.displayName && 'chat__reciever'}`} >\n                      <span className=\"chat__name\" > {message.name}</span>\n                      {message.message}\n                <span className=\"chat__timestamp\" >{new Date(message.timestamp?.toDate()).toUTCString()} </span>\n  \n                  </p>\n\n                ))}\n              \n\n            </div>\n            <div className=\"chat__footer\">\n                <InsertEmoticonIcon />\n                <form>\n                    <input value={input} onChange={e => setInput(e.target.value)} placeholder=\"Type a message\" type=\"text\" />\n                    <button onClick={sendMessage} type=\"submit\"> Send a message </button>\n                </form>\n                <MicIcon />\n            </div>\n\n        </div>\n    )\n}\n\nexport default Chat\n","/Users/muema/Documents/whatsapp-clone/src/firebase.js",[],"/Users/muema/Documents/whatsapp-clone/src/Login.js",["54"],"/Users/muema/Documents/whatsapp-clone/src/reducer.js",[],["55","56"],"/Users/muema/Documents/whatsapp-clone/src/StateProvider.js",[],["57","58"],{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","severity":1,"message":"64","line":14,"column":18,"nodeType":"65","messageId":"66","endLine":14,"endColumn":26},{"ruleId":"59","replacedBy":"67"},{"ruleId":"61","replacedBy":"68"},{"ruleId":"63","severity":1,"message":"64","line":26,"column":20,"nodeType":"65","messageId":"66","endLine":26,"endColumn":28},{"ruleId":"69","severity":1,"message":"70","line":10,"column":12,"nodeType":"71","messageId":"72","endLine":10,"endColumn":14},{"ruleId":"59","replacedBy":"73"},{"ruleId":"61","replacedBy":"74"},{"ruleId":"59","replacedBy":"75"},{"ruleId":"61","replacedBy":"76"},"no-native-reassign",["77"],"no-negated-in-lhs",["78"],"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar",["77"],["78"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected",["77"],["78"],["77"],["78"],"no-global-assign","no-unsafe-negation"]